<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard | TUTORA</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: Arial, sans-serif; background-color: #f9f9f9; }
.sidebar { width: 220px; background: #fff; height: 100vh; position: fixed; padding-top: 20px; border-right: 1px solid #ddd; }
.sidebar a { display: block; padding: 12px 20px; color: #333; text-decoration: none; margin-bottom: 5px; border-radius: 5px;}
.sidebar a:hover, .sidebar a.active { background-color: #007bff; color: #fff; }
.main-content { margin-left: 240px; padding: 20px; }
.card { border-radius: 10px; }
</style>
</head>
<body>

<div class="sidebar">
  <h4 class="text-center mb-4">TUTORA</h4>
  <a href="#" class="active">Dashboard</a>
  <a href="#">Tutors</a>
  <a href="#">Students</a>
  <a href="#">Institutes</a>
  <a href="#">Classes</a>
  <a href="#">Subjects</a>
  <a href="#">Exams</a>
  <a href="#">Profile</a>
  <a href="#">Logout</a>
</div>

<div class="main-content">
  <h2 class="mb-4">Welcome to Dashboard</h2>
  
  <div class="row g-3 mb-4">
    <div class="col-md-3">
      <div class="card p-3 text-center shadow-sm">
        <h5>Total Tutors</h5>
        <h3 id="totalTutors">0</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3 text-center shadow-sm">
        <h5>Total Students</h5>
        <h3 id="totalStudents">0</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3 text-center shadow-sm">
        <h5>Classes Offered</h5>
        <h3 id="totalClasses">0</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3 text-center shadow-sm">
        <h5>Subjects</h5>
        <h3 id="totalSubjects">0</h3>
      </div>
    </div>
  </div>

  <h4 class="mb-3">Tutors List</h4>
  <div class="row" id="tutorCards">
    <!-- Tutor cards loaded dynamically -->
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script>
// CSV link
const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQQQHhT5VeUKqGGRrhlW5Y8cVgHXeJ9XEMm3HBh8Zcy5xQv2DdddIL3FR5ysRsdJGmx9ooW7WcQsIYB/pub?output=csv";

// Fetch CSV
Papa.parse(csvUrl, {
    download: true,
    header: true,
    complete: function(results) {
        const data = results.data;
        displayTutors(data);
        updateStats(data);
    }
});

function displayTutors(data) {
    const container = document.getElementById("tutorCards");
    container.innerHTML = "";
    data.forEach(tutor => {
        if(!tutor.Name) return;
        const card = document.createElement("div");
        card.className = "col-md-4";
        card.innerHTML = `
        <div class="card h-100 shadow-sm mb-3">
            <div class="card-body">
                <h5 class="card-title">${tutor.Name}</h5>
                <p><b>Classes:</b> ${tutor.Classes}</p>
                <p><b>Subjects:</b> ${tutor.Subjects}</p>
                <p><b>Board:</b> ${tutor.Board}</p>
                <p><b>Mode:</b> ${tutor.Mode}</p>
                <p><b>Exam Prep:</b> ${tutor.Exams}</p>
                <p><b>Fee:</b> ${tutor.Fee}</p>
                <p><b>City:</b> ${tutor.City}</p>
                <a href="mailto:${tutor.Email}" class="btn btn-primary w-100">Contact</a>
            </div>
        </div>`;
        container.appendChild(card);
    });
}

function updateStats(data){
    document.getElementById("totalTutors").innerText = data.length;
    // Example for demo
    document.getElementById("totalStudents").innerText = 120;
    document.getElementById("totalClasses").innerText = 12;
    document.getElementById("totalSubjects").innerText = 20;
}
</script>

</body>
</html>
